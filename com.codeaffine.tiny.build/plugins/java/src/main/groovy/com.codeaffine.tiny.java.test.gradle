plugins {
    id("com.codeaffine.tiny.java.lombok")
    id("jvm-test-suite")
    id("jacoco")
}

dependencies {
    testImplementation(
        libs.bundles.junit.jupiter.apis,
        libs.assertj.core,
        libs.mockito.core,
    )
}

testing {
    suites {
        test {
            useJUnitJupiter()
        }
    }
}

test {
    jvmArgs "-Xshare:off"
    useJUnitPlatform()
    finalizedBy jacocoTestReport
}

jacocoTestReport {
    dependsOn test
    reports {
        xml.required = true
        html.required = true
    }
}
